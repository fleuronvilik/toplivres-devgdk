{% extends "base.html" %}
{% block title %}Admin - Toplivres{% endblock %}
{% block page_h1 %}Tableau de bord admin{% endblock %}
{% block content %}
<!-- ADMIN DASHBOARD -->
<div id="admin-dashboard" class="hidden">
    <header class="page-header">
        <div id="alerts"></div>
    </header>

    <!-- Add book form -->
    <div class="card">
        <form id="add-book-form" class="dashboard-form">
        <h3>Ajouter un livre</h3>
        <input type="text" name="title" placeholder="Titre" required>
        <input type="number" name="unit_price" placeholder="Prix" step="0.01" required>
        <button type="submit" class="btn btn-primary">Ajouter le livre</button>
        </form>
    </div>

    <!-- Operations table -->
    <div class="card">
        <div class="card-header">
            <h3>Toutes les opérations</h3>
        </div>
        <div class="card-toolbar">
            <div class="table-search">
                <input id="admin-ops-search" type="text" placeholder="Rechercher un client">
            </div>
            <a class="btn btn-primary" href="/api/admin/export/csv" download>Exporter CSV</a>
        </div>
        <table id="admin-ops-table" class="table">
            <thead>
                <tr>
                <th>ID</th>
                <th>Date</th>
                <th>Client</th>
                <th>Type</th>
                <th>Statut</th>
                <th>Actions</th>
                </tr>
            </thead>
            <tbody id="admin-ops-actionable"></tbody>

            <!-- Intertitre dans la même table (optionnel mais très lisible) -->
            <tbody>
                <tr class="ops-separator">
                <td colspan="6">Historique</td>
                </tr>
            </tbody>

            <tbody id="admin-ops-history"></tbody>
        </table>
    </div>
</div>
{% include "partials/_items_sheet.html" %}
{% endblock %}
